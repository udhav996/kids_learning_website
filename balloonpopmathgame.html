<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Balloon Pop Math Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #87CEEB;
            margin: 0;
            overflow: hidden;
        }

        .game-container {
            margin: 20px auto;
            max-width: 500px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }

        .balloon-container {
            position: relative;
            width: 100%;
            height: 400px;
            overflow: hidden;
            background: #f5f5f5;
            border: 2px solid #ddd;
            margin-top: 20px;
        }

        .balloon {
            position: absolute;
            width: 50px;
            height: 70px;
            background-color: red;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            color: white;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .balloon:hover {
            transform: scale(1.1);
        }

        @keyframes floatUp {
            from { bottom: 0px; }
            to { bottom: 100%; }
        }

        #restart-btn {
            margin-top: 20px;
            padding: 10px 20px;
            background: green;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            display: none;
        }

        #restart-btn:hover {
            background: darkgreen;
        }
    </style>
</head>
<body>

    
    <div class="game-container">
        <button class="btn-back" onclick="goBack()">üè† Back to Home</button>

        <h1>üéà Balloon Pop Math Game üéà</h1>
        <div class="info">
            <p><strong>Question:</strong> <span id="question"></span></p>
            <p><strong>Time Left:</strong> <span id="timer">120</span> seconds</p>
            <p><strong>Score:</strong> <span id="score">0</span></p>
        </div>
        <div class="balloon-container" id="balloon-container"></div>
        <button id="restart-btn" onclick="startGame()">Restart Game</button>
    </div>


    <script>
        const operations = ["+", "-", "*", "/"];
        let correctAnswer;
        let score = 0;
        let timeLeft = 120;
        let timer;
        let balloonInterval;

        function startGame() {
            score = 0;
            timeLeft = 120;
            document.getElementById("score").innerText = score;
            document.getElementById("timer").innerText = timeLeft;
            document.getElementById("restart-btn").style.display = "none";
           
            generateQuestion();
            clearInterval(balloonInterval);
            spawnBalloons();
            balloonInterval = setInterval(spawnBalloons, 3000); // New balloons every 3 sec
            startTimer();
        }

        function generateQuestion() {
            const num1 = Math.floor(Math.random() * 10) + 1;
            const num2 = Math.floor(Math.random() * 10) + 1;
            const op = operations[Math.floor(Math.random() * operations.length)];
           
            if (op === "/" && num1 % num2 !== 0) {
                return generateQuestion(); // Avoid decimals in division
            }

            correctAnswer = eval(`${num1} ${op} ${num2}`);
            document.getElementById("question").innerText = `${num1} ${op} ${num2} = ?`;
        }

        function spawnBalloons() {
            const container = document.getElementById("balloon-container");
            container.innerHTML = ""; // Clear old balloons

            let correctPlaced = false;

            for (let i = 0; i < 5; i++) {
                let num = Math.floor(Math.random() * 20) + 1;
                if (!correctPlaced) {
                    num = correctAnswer;
                    correctPlaced = true;
                }

                const balloon = document.createElement("div");
                balloon.classList.add("balloon");
                balloon.innerText = num;
                balloon.style.left = `${Math.random() * 80}%`;
                balloon.style.bottom = "0px";

                balloon.onclick = function () {
                    if (parseInt(balloon.innerText) === correctAnswer) {
                        score += 10;
                        generateQuestion();
                        spawnBalloons();
                    } else {
                        score -= 5;
                    }
                    document.getElementById("score").innerText = score;
                    balloon.remove();
                };

                container.appendChild(balloon);

                // Animate the balloon
                let position = 0;
                let speed = Math.random() * 2 + 1;
                let moveUp = setInterval(() => {
                    if (position >= 400) { // Stop at top of game area
                        clearInterval(moveUp);
                        balloon.remove();
                    } else {
                        position += speed;
                        balloon.style.bottom = position + "px";
                    }
                }, 20);
            }
        }

        function startTimer() {
            clearInterval(timer);
            timer = setInterval(() => {
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    clearInterval(balloonInterval);
                    endGame();
                } else {
                    timeLeft--;
                    document.getElementById("timer").innerText = timeLeft;
                }
            }, 1000);
        }

        function endGame() {
            document.getElementById("restart-btn").style.display = "block";
            alert(`Game Over! Your score: ${score}`);
        }

        startGame();

        function goBack() {
            window.location.href = "mathgamelandingpage.html"; // Redirects to homepage
        }
    </script>
</body>
</html> 